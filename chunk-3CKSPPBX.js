import{a as v,b as S,c as E,d as R,e as z,f as L,j as N,k}from"./chunk-LW2YUVVW.js";import{C as h,G as M,K as b,L as o,M as i,P as _,Q as C,S as s,T as m,U as P,V as c,W as d,X as p,c as f,ea as x,fa as w,na as O,o as l,ua as y,x as a}from"./chunk-MSOPY6SM.js";function T(g,n){if(g&1&&(o(0,"div",7),s(1),i()),g&2){let e=C();a(),P(" ",e.errorMessage," ")}}var I=class g{authService=l(y);router=l(O);email="";password="";errorMessage="";isRegistering=!1;toggleMode(){this.isRegistering=!this.isRegistering,this.errorMessage=""}submit(){return f(this,null,function*(){if(console.log("submit() chamado"),this.errorMessage="",!this.email||!this.password){console.log("Campos vazios"),this.errorMessage="Por favor, preencha todos os campos";return}console.log("Campos preenchidos, email:",this.email);try{console.log("Tentando:",this.isRegistering?"registrar":"login",this.email),this.isRegistering?(yield this.authService.register(this.email,this.password),console.log("Registro bem-sucedido")):(yield this.authService.login(this.email,this.password),console.log("Login bem-sucedido"))}catch(n){console.error("Erro no login/registro:",n),console.error("C\xF3digo do erro:",n?.code),console.error("Mensagem do erro:",n?.message);let e="Erro ao fazer login/registro";n?.code==="auth/user-not-found"?e="Usu\xE1rio n\xE3o encontrado. Verifique o email.":n?.code==="auth/wrong-password"?e="Senha incorreta.":n?.code==="auth/invalid-email"?e="Email inv\xE1lido.":n?.code==="auth/email-already-in-use"?e="Este email j\xE1 est\xE1 em uso.":n?.code==="auth/weak-password"?e="A senha deve ter pelo menos 6 caracteres.":n?.message&&(e=n.message),this.errorMessage=e}})}static \u0275fac=function(e){return new(e||g)};static \u0275cmp=h({type:g,selectors:[["app-login"]],decls:16,vars:5,consts:[[1,"login-container"],[3,"ngSubmit"],["type","email","name","email","required","",3,"ngModelChange","ngModel"],["type","password","name","password","required","",3,"ngModelChange","ngModel"],["class","error",4,"ngIf"],[1,"actions"],["type","submit"],[1,"error"]],template:function(e,t){e&1&&(o(0,"div",0)(1,"h2"),s(2),i(),o(3,"form",1),_("ngSubmit",function(){return t.submit()}),o(4,"div")(5,"label"),s(6,"Email:"),i(),o(7,"input",2),p("ngModelChange",function(r){return d(t.email,r)||(t.email=r),r}),i()(),o(8,"div")(9,"label"),s(10,"Senha:"),i(),o(11,"input",3),p("ngModelChange",function(r){return d(t.password,r)||(t.password=r),r}),i()(),M(12,T,2,1,"div",4),o(13,"div",5)(14,"button",6),s(15),i()()()()),e&2&&(a(2),m(t.isRegistering?"Registrar":"Acessar Consultores"),a(5),c("ngModel",t.email),a(4),c("ngModel",t.password),a(),b("ngIf",t.errorMessage),a(3),m(t.isRegistering?"Registrar":"Entrar"))},dependencies:[w,x,k,L,v,S,E,N,z,R],styles:["[_nghost-%COMP%]{display:flex;align-items:center;justify-content:center;min-height:100vh}.login-container[_ngcontent-%COMP%]{width:100%;max-width:380px;padding:2.5rem 2.25rem;box-shadow:0 0 0 1px #2a2499a6,0 10px 25px #0f172ae6;border-radius:.65rem}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.4rem;font-weight:700;font-family:poppins;text-align:center;margin-bottom:2rem;color:#183878}.login-container[_ngcontent-%COMP%]   form[_ngcontent-%COMP%] > div[_ngcontent-%COMP%]{margin-bottom:1.1rem}.login-container[_ngcontent-%COMP%]   label[_ngcontent-%COMP%]{display:block;margin-bottom:.35rem;font-size:.86rem;letter-spacing:.04em;text-transform:uppercase;color:#526689;font-family:poppins}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%], .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]{width:100%;padding:.7rem .85rem;border-radius:.7rem;border:1px solid rgba(148,163,184,.7);color:#526689;font-size:1rem;outline:none;box-sizing:border-box;transition:box-shadow .18s ease,transform .06s ease}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]::placeholder, .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]::placeholder{color:#526689;font-size:.9rem}.login-container[_ngcontent-%COMP%]   input[type=email][_ngcontent-%COMP%]:focus, .login-container[_ngcontent-%COMP%]   input[type=password][_ngcontent-%COMP%]:focus{box-shadow:0 0 0 1px #2a2499a6,0 10px 25px #0f172ae6;transform:translateY(-1px)}.error[_ngcontent-%COMP%]{margin-top:.3rem;padding:.55rem .7rem;border-radius:.6rem;background:#ef44441f;color:#610808;border:1px solid rgba(248,113,113,.5);font-size:.86rem}.login-container[_ngcontent-%COMP%]   button[_ngcontent-%COMP%]{width:100%;padding:.75rem 1rem;border-radius:.6rem;border:none;cursor:pointer;font-size:.95rem;font-weight:600;text-transform:uppercase;box-sizing:border-box}.login-container[_ngcontent-%COMP%]   .actions[_ngcontent-%COMP%]{display:flex;flex-direction:column;gap:.5rem;margin-top:.5rem}.login-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]{background-color:#183878;color:#f9fafb;box-shadow:0 2px 22px #07034673}.login-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:hover{transform:translateY(-1px);box-shadow:0 2px 22px #07034673;background-color:#122f62}.login-container[_ngcontent-%COMP%]   button[type=submit][_ngcontent-%COMP%]:active{transform:translateY(0);box-shadow:0 2px 22px #07034673}.login-container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]{background:transparent;color:#526689;border:1px solid rgba(148,163,184,.7)}.login-container[_ngcontent-%COMP%]   button[type=button][_ngcontent-%COMP%]:hover{background:#fff;color:#183878;border-color:#183878}@media (max-width: 480px){.login-container[_ngcontent-%COMP%]{margin:1.2rem;padding:2rem 1.5rem;max-width:100%}.login-container[_ngcontent-%COMP%]   h2[_ngcontent-%COMP%]{font-size:1.45rem}}"]})};export{I as Login};
